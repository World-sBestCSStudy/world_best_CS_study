# SOLID μ›μΉ™

κ°μ²΄μ§€ν–¥ μ†ν”„νΈμ›¨μ–΄ κ°λ°μ λ‹¤μ„― κ°€μ§€ μ„¤κ³„ μ›μΉ™

- SWμ μ¬μ‚¬μ©μ„±, μ μ—°μ„±, ν™•μ¥μ„±μ„ λ†’μΈλ‹¤.
- μ½”λ“μ μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μΈλ‹¤.

<br>

## 1. λ‹¨μΌμ±…μ„ μ›μΉ™(Single Responsibility Principle, SRP)

**ν΄λμ¤λ” μ¤μ§ ν•λ‚μ— λ€ν•΄μ„λ§ μ±…μ„**μ Έμ•Ό ν•λ‹¤.

> ν–‰λ™μ„ λ¶„λ¦¬ν•μ—¬, κΈ°λ¥ μμ • μ‹ μ—°κ΄€μ΄ μ—†λ” κΈ°λ¥μ—λ” μν–¥μ΄ κ°€μ§€ μ•λ„λ΅ ν•λ” κ²ƒ

π’΅ μ»΄ν¬λ„νΈλ¥Ό λ¬΄μ‘μ • λ‹¨μΌ λ™μ‘μΌλ΅ μΌκ°λ” κ²ƒμ΄ μ•„λ‹λΌ(λ‹¨μΌν• λ™μ‘μ„ κ°–λ” κ²ƒμ€ μμν• ν•¨μ ν•μ •), **μ”κµ¬μ‚¬ν•­μ„ μ „λ‹¬ν•λ” μ±…λ¬΄ λ‹¨μ„λ΅ μ„¤κ³„**ν•λ” κ²ƒ

### νΉμ§•

- κ° μμ—­μ μ”κµ¬μ‚¬ν•­μ„ λ…ν™•ν ν•κ³  μμ—­μ„ μ κµ¬λ¶„ν•μ—¬ μμ΅΄μ„± μ—†λ” λ…λ¦½μ μΈ μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤μ–΄, κ° μ±…λ¬΄μ λ³€κ²½μ‚¬ν•­μ—λ„ μ μ—°ν•κ² λ€μ²ν•  μ μλ„λ΅ μ„¤κ³„ν•κ³  κµ¬ν„ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.
- λ΅λ²„νΈ λ§ν‹΄μ— μν•λ©΄ ν•λ‚μ μ±…μ„μ΄λΌλ” λ¨νΈν• μ›μΉ™ λ€μ‹  **λ¨λ“(ν΄λμ¤, ν΄λμ¤μ λ¨μ λ“±)μ΄ λ³€κ²½λλ” μ΄μ κ°€ ν•κ°€μ§€μ—¬μ•Ό ν•¨**μΌλ΅ λ°›μ•„λ“¤μ—¬μ•Ό ν•λ‹¤. μ—¬κΈ°μ„ λ³€κ²½μ μ΄μ κ°€ ν•κ°€μ§€λΌλ” κ²ƒμ€ **ν•΄λ‹Ή λ¨λ“μ΄ μ—¬λ¬ λ€μƒ λλ” μ•΅ν„°λ“¤μ— λ€ν•΄ μ±…μ„μ„ κ°€μ Έμ„λ” μ•λκ³ , μ¤μ§ ν•λ‚μ μ•΅ν„°μ— λ€ν•΄μ„λ§ μ±…μ„μ„ μ Έμ•Ό ν•λ‹¤**λ” κ²ƒμ„ μλ―Έν•λ‹¤.

### μ¥μ 

- κ° μ»΄ν¬λ„νΈλ” λ…ν™•ν•κ³  ν•μ •λ μ—­ν• μ„ μν–‰ν•κ² λμ–΄ μ½”λ“μ **κ°€λ…μ„±**κ³Ό **μ μ§€λ³΄μμ„±**μ΄ ν–¥μƒλλ‹¤.
- μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•κ±°λ‚ λ³€κ²½ν•  λ• λ‹¤λ¥Έ μ»΄ν¬λ„νΈμ— μν–¥μ„ μ£Όμ§€ μ•μΌλ―€λ΅ μ½”λ“μ **μ•μ •μ„±**κ³Ό **ν™•μ¥μ„±**μ΄ λ†’μ•„μ§„λ‹¤.
- λν• λ³€κ²½μ΄ ν•„μ”ν•  λ• **μμ •ν•  λ€μƒμ΄ λ…ν™•**ν•΄μ§„λ‹¤.

<br>

<details>
<summary>μμ‹ μ½”λ“</summary>
<div markdown="1">

> μ‚¬μ©μ μ…λ ¥μ„ λ°›μ•„, λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”ν•μ—¬ DBμ— μ €μ¥ν•λ” λ΅μ§. μ‚¬μ©μ μ¶”κ°€ λ΅μ§ λ‚΄μ— λΉ„λ°€λ²νΈ μ•”νΈν™”κ°€ ν¬ν•¨λμ–΄ μλ” λ¬Έμ κ°€ μλ‹¤.


```java
@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;

		// μ‚¬μ©μ μ¶”κ°€
    public void **addUser**(final String email, final String pw) {
				// λΉ„λ°€λ²νΈ μ•”νΈν™” λ΅μ§
        final StringBuilder sb = new StringBuilder();

        for(byte b : pw.getBytes(StandardCharsets.UTF_8)) {
            sb.append(Integer.toString((b & 0xff) + 0x100, 16).substring(1));
        }

        final String encryptedPassword = sb.toString();
        final User user = User.builder()
            .email(email)
            .pw(encryptedPassword).build();

        userRepository.save(user);
    }
}
```

- μ„μ UserServiceμ— μ‚¬μ©μ μ¶”κ°€ λ΅μ§μΌλ΅ λ‹¤μ–‘ν• μ•΅ν„°(κΈ°νν€, λ³΄μ•ν€)λ΅λ¶€ν„° λ³€κ²½(μ‚¬μ©μ μ—­ν•  μ¶”κ°€, λΉ„λ°€λ²νΈ μ•”νΈν™” λ°©μ‹ κ°μ„  λ“±)μ΄ λ°μƒν•  μ μλ‹¤.
- ν•μ§€λ§ μ„μ—μ„λ” SRPλ¥Ό μ§€ν‚¤μ§€ λ»ν•κ³  μκΈ° λ•λ¬Έμ— λΉ„λ°€λ²νΈ μ•”νΈν™”μ— λ€ν• μ±…μ„μ„ λ¶„λ¦¬ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤. μ•”νΈν™”λ¥Ό μ±…μ„μ§€λ” λ³„λ„μ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄ UserServiceλ΅λ¶€ν„° μ΄λ¥Ό μ¶”μƒν™”ν•κ³  ν•΄λ‹Ή ν΄λμ¤λ¥Ό ν•©μ„±ν•μ—¬ μ ‘κ·Ό λ° μ‚¬μ©ν•λ©΄ λΉ„λ°€λ²νΈ μ•”νΈν™” λ°©μ‹ κ°μ„ μ΄λΌλ” λ³€κ²½μ„ λ¶„λ¦¬ν•  μ μλ” κ²ƒμ΄λ‹¤.

> μ‚¬μ©μ μ¶”κ°€μ™€ λΉ„λ°€λ²νΈ μ•”νΈν™” λ΅μ§μ„ λ¶„λ¦¬ν•μ—¬ SRPλ¥Ό μ§€ν‚¬ μ μλ‹¤. 

```java
@Component
public class **SimplePasswordEncoder** {
		**// λΉ„λ°€λ²νΈ μ•”νΈν™” λ΅μ§ λ¶„λ¦¬**
    public String **encryptPassword**(final String pw) {
        final StringBuilder sb = new StringBuilder();

        for(byte b : pw.getBytes(StandardCharsets.UTF_8)) {
            sb.append(Integer.toString((b & 0xff) + 0x100, 16).substring(1));
        }

        return sb.toString();
    }
}

@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;
    **private final** **SimplePasswordEncoder** **passwordEncoder**;

    public void **addUser**(final String email, final String pw) {
        final String encryptedPassword = passwordEncoder.encryptPassword(pw);

        final User user = User.builder()
            .email(email)
            .pw(encryptedPassword).build();

        userRepository.save(user);
    }
}
```

π’΅ SRPλ¥Ό μ„λ°ν•λ”μ§€ νλ‹¨ν•λ” κ²ƒμ€ μƒλ‹Ήν μ–΄λ ¤μ΄λ°, κ·Έ μ΄μ λ” λ™μΌν• λ€μƒμ΄λΌ ν• μ§€λΌλ„ μ μ¤μΌ€μ΄μ¤λ‚ μ”κµ¬ μ‚¬ν•­μ λ‹¨κ³„μ— λ”°λΌ μ±…μ„μ΄ λ‹¨μΌν•μ§€ μ—¬λ¶€κ°€ λ‹¬λΌμ§ μ μκΈ° λ•λ¬Έμ΄λ‹¤. μ μ¤μΌ€μ΄μ¤λ¥Ό λ³€κ²½ν•κ±°λ‚ μ”κµ¬ μ‚¬ν•­μ΄ λ‹¬λΌμ§ κ²½μ°μ—λ” κΈ°μ΅΄μ— μ¶©μ΅±ν–λ λ‹¨μΌ μ±…μ„ μ›μΉ™μ΄ μ¶©μ΅±λμ§€ λ»ν•  μ μλ‹¤.

</div>
</details>
<br>

## 2. κ°λ°©-νμ‡„ μ›μΉ™(Open-Closed Principle, OCP)

ν΄λμ¤λ” **ν™•μ¥μ—λ” κ°λ°©μ **μ΄μ–΄μ•Ό ν•κ³ , **λ³€κ²½μ—λ” νμ‡„μ **μ΄μ–΄μ•Ό ν•λ‹¤.

> ν΄λμ¤μ μ΅΄μ¬ν•λ” κΈ°λ¥μ λ³€κ²½ μ—†μ΄ ν•΄λ‹Ή ν΄λμ¤μ κΈ°λ¥μ„ ν™•μ¥μ‹ν‚¤λ” κ²ƒ
 

π’΅ 
**ν™•μ¥μ— κ°λ°©μ **: **μ”κµ¬μ‚¬ν•­μ΄ λ³€κ²½**λ  λ• **μƒλ΅μ΄ λ™μ‘μ„ μ¶”κ°€**ν•μ—¬ μ• ν”λ¦¬μΌ€μ΄μ…μ **κΈ°λ¥μ„ ν™•μ¥**ν•  μ μλ‹¤.  
**λ³€κ²½μ— νμ‡„μ **: κΈ°μ΅΄μ **μ½”λ“λ¥Ό μμ •ν•μ§€ μ•κ³ ** μ• ν”λ¦¬μΌ€μ΄μ…μ **λ™μ‘μ„ μ¶”κ°€ν•κ±°λ‚ λ³€κ²½ν•  μ μλ‹¤.**

### **νΉμ§•**

- μµλ€ν• λ°μ΄ν„°μ λ³€ν™”λ‚ μ„λΉ„μ¤ λ΅μ§μ λ³€κ²½μ—λ„ μ μ—°ν•κ² λ€μ²ν•κΈ° νΈν• κµ¬μ΅°λ¥Ό κ°–λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.
- **κ°λ°© νμ‡„ μ›μΉ™μ„ μ§€ν‚¤κΈ° μ„ν•΄μ„λ” μ¶”μƒν™”μ— μμ΅΄**ν•΄μ•Ό ν•λ‹¤.
    - μ¶”μƒν™”
        
        μ¶”μƒν™”λ€ ν•µμ‹¬μ μΈ λ¶€λ¶„λ§ λ‚¨κΈ°κ³ , λ¶ν•„μ”ν• λ¶€λ¶„μ€ μ κ±°ν•¨μΌλ΅μ¨ λ³µμ΅ν• κ²ƒμ„ κ°„λ‹¨ν ν•λ” κ²ƒ
        
        μ¶”μƒν™”λ¥Ό ν†µν•΄ λ³€ν•μ§€ μ•λ” λ¶€λ¶„λ§ λ‚¨κΉ€μΌλ΅μ¨ κΈ°λ¥μ„ κµ¬μ²΄ν™”ν•κ³  ν™•μ¥ν•  μ μλ‹¤. 
        λ³€ν•μ§€ μ•λ” λ¶€λ¶„μ€ κ³ μ •ν•κ³  λ³€ν•λ” λ¶€λ¶„μ„ μƒλµν•μ—¬ μ¶”μƒν™”ν•¨μΌλ΅μ¨ λ³€κ²½μ΄ ν•„μ”ν• κ²½μ°μ— μƒλµλ λ¶€λ¶„μ„ μμ •ν•μ—¬ κ°λ°©-νμ‡„μ μ›μΉ™μ„ μ§€ν‚¬ μ μλ‹¤.
        
        μ¶”μƒν™”λ¥Ό ν†µν•΄ λ³€ν•λ” κ²ƒλ“¤μ€ μ¨κΈ°κ³  λ³€ν•μ§€ μ•λ” κ²ƒλ“¤μ— μμ΅΄ν•κ² ν•λ©΄ μ°λ¦¬λ” κΈ°μ΅΄μ μ½”λ“ λ° ν΄λμ¤λ“¤μ„ μμ •ν•μ§€ μ•μ€ μ±„λ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν™•μ¥ν•  μ μλ‹¤.
        
- κ³Όλ„ν• OCPλ” μ¤νλ ¤ κ°λ°μ— λ¶€ν•λ¥Ό μ¤„ μ μλ‹¤. ν™•μ¥μ λ²”μ„μ™€ λΉ„μ©μ„ μƒκ°ν•μ—¬ μ½”λ“μ ν™•μ¥μ„±κ³Ό κ°€λ…μ„± μ‚¬μ΄μ—μ„ μ μ ν• κ· ν•μ΄ ν•„μ”ν•λ‹¤.

### **μ¥μ **

- **κΈ°μ΅΄μ μ½”λ“ λ° ν΄λμ¤λ“¤μ„ μμ •ν•μ§€ μ•μ€ μ±„λ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν™•μ¥**ν•  μ μλ‹¤.
- **ν™•μ¥μ„±**μ΄ **μ½”λ“ ν’μ§**μ μ¤‘μ”ν• μ²™λ„μ΄κΈ° λ•λ¬Έμ— κ°€μ¥ μ μ©ν•λ‹¤.

<br>

<details>
<summary>μμ‹ μ½”λ“</summary>
<div markdown="1">

> λΉ„λ°€λ²νΈ μ•”νΈν™”λ¥Ό κ°•ν™”ν•κΈ° μ„ν•΄ SHA-256 μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ” μƒλ΅μ΄ PasswordEncoderλ¥Ό μƒμ„±ν•μ€λ‹¤. ν•μ§€λ§ μ΄λ¥Ό μ μ©ν•λ ¤κ³  ν•λ‹ μƒλ΅μ΄ μ•”νΈν™” μ •μ±…κ³Ό λ¬΄κ΄€ν• UserServiceλ¥Ό ν•¨κ» μμ •ν•΄μ•Όν•λ” λ¬Έμ κ°€ λ°μƒν•μ€λ‹¤.
> 

```java
@Component
public class **SHA256PasswordEncoder** {

    private final static String SHA_256 = "SHA-256";

    public String encryptPassword(final String pw)  {
        final MessageDigest digest;
        try {
            digest = MessageDigest.getInstance(SHA_256);
        } catch (NoSuchAlgorithmException e) {
            throw new IllegalArgumentException();
        }

        final byte[] encodedHash = digest.digest(pw.getBytes(StandardCharsets.UTF_8));

        return bytesToHex(encodedHash);
    }

    private String bytesToHex(final byte[] encodedHash) {
        final StringBuilder hexString = new StringBuilder(2 * encodedHash.length);

        for (final byte hash : encodedHash) {
            final String hex = Integer.toHexString(0xff & hash);
            if (hex.length() == 1) {
                hexString.append('0');
            }
            hexString.append(hex);
        }

        return hexString.toString();
    }
}

@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;
    **private final SHA256PasswordEncoder passwordEncoder;
    // λΉ„λ°€λ²νΈ μ•”νΈν™” μ •μ±…κ³Όλ” λ¬΄κ΄€ν• UserServiceλ„ μμ •ν•΄μ•Ό ν•¨**

    ...
    
}
```

- μ„μ μμ μ—μ„ μ¶”μƒν™” ν•  μ μλ” κ²ƒμ„ λ³΄μ. λ³€ν•μ§€ μ•λ” κ²ƒμ€ μ‚¬μ©μ μ¶”κ°€ μ‹ μ•”νΈν™”κ°€ ν•„μ”ν•λ‹¤λ” κ²ƒμ΄κ³ , λ³€ν•λ” κ²ƒμ€ κµ¬μ²΄μ μΈ μ•”νΈν™” μ •μ±…μ΄λ‹¤. κ·Έλ¬λ―€λ΅ UserServiceλ” μ•”νΈν™” μ •μ±…κΉμ§€λ” μ• ν•„μ”κ°€ μ—†μ΄ passwordEncoder κ°μ²΄λ¥Ό ν†µν•΄ μ•”νΈν™”λ λΉ„λ°€λ²νΈλ¥Ό λ°›κΈ°λ§ ν•λ©΄λλ‹¤.

> UserServiceκ°€ κµ¬μ²΄μ μΈ μ•”νΈν™” ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•κ³  PasswordEncoderλΌλ” μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ„λ΅ μ¶”μƒν™”ν•λ©΄ OCPλ¥Ό μ¶©μ΅±ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.
> 

```java
public **interface** **PasswordEncoder** {
    String **encryptPassword**(final String pw);
}

@Component
public class **SHA256PasswordEncoder implements PasswordEncoder** {

    @Override
    public String **encryptPassword**(final String pw)  {
        ...
    }
}

@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    public void addUser(final String email, final String pw) {
        final String encryptedPassword = passwordEncoder.encryptPassword(pw);

        final User user = User.builder()
            .email(email)
            .pw(encryptedPassword).build();

        userRepository.save(user);
    } 
}
```
</div>
</details>
<br>

## 3. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™(Liskov Substitution Principle, LSP)
**Sκ°€ Tμ μ„λΈνƒ€μ…**μ΄λΌλ©΄, **Tλ” μ–΄λ– ν• κ²½κ³ λ„ λ‚΄μ§€ μ•μΌλ©΄μ„, Sλ΅ λ€μ²΄κ°€ κ°€λ¥**ν•λ‹¤.

> μΌκ΄€μ„±μ„ μ μ§€ν•μ—¬ λ¶€λ¨ ν΄λμ¤ λλ” μμ‹ ν΄λμ¤λ¥Ό μ¤λ¥ μ—†μ΄ λ™μΌν• λ°©μ‹μΌλ΅ μ‚¬μ©ν•  μ μλ„λ΅ ν•λ” κ²ƒ
> 

### νΉμ§•

- μμ‹ ν΄λμ¤λ” μ–Έμ λ‚ λ¶€λ¨ ν΄λμ¤λ΅ λ€μ²΄λ  μ μμ–΄μ•Ό ν•λ‹¤.
- λ¶€λ¨ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ€μ‹  μμ‹ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•΄λ„ κΈ°λ¥μ— λ¬Έμ κ°€ μ—†μ–΄μ•Ό ν•λ‹¤.
- μμ‹ ν΄λμ¤λ” λ¶€λ¨ ν΄λμ¤κ°€ ν•  μ μλ” λ¨λ“  κ²ƒμ„ ν•  μ μμ–΄μ•Ό ν•λ”λ°(μƒμ†), κ·Έλ¬λ―€λ΅ μμ‹ ν΄λμ¤λ” λ¶€λ¨ ν΄λμ¤μ²λΌ λ‘κ°™μ€ μ”μ²­μ— λ€ν•΄ λ‘κ°™μ€ μ‘λ‹µμ„ ν•  μ μμ–΄μ•Ό ν•κ³ , μ‘λ‹µμ νƒ€μ… λν• κ°™μ•„μ•Ό ν•λ‹¤.
- **ν•μ„ νƒ€μ…μ€ μƒμ„ νƒ€μ…μ„ λ€μ²΄ν•  μ μμ–΄μ•Ό ν•λ‹¤.** μ¦‰, **ν•΄λ‹Ή κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈλ” μƒμ„ νƒ€μ…μ΄ ν•μ„ νƒ€μ…μΌλ΅ λ³€κ²½λμ–΄λ„, μ°¨μ΄μ μ„ μΈμ‹ν•μ§€ λ»ν• μ±„ μƒμ„ νƒ€μ…μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ„λΈ ν΄λμ¤λ¥Ό μ‚¬μ©ν•  μ μμ–΄μ•Ό ν•λ‹¤**λ” κ²ƒμ΄λ‹¤.
- LSPλ¥Ό λ”°λ¥΄κΈ° μ„ν•΄μ„λ” μƒμ†λ°›μ€ λ©”μ†λ“λ¥Ό μ¬μ •μν•  λ• κΈ°μ΅΄μ λ™μ‘μ„ λ³΄μ΅΄ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.
- **μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤λ¥Ό λ€μ²΄ν•κΈ° μ„ν•΄μ„λ” λ¶€λ¨ ν΄λμ¤μ— λ€ν• ν΄λΌμ΄μ–ΈνΈμ κ°€μ •μ„ μ¤€μν•΄μ•Ό ν•λ‹¤.**

### μ¥μ 

- μ΄λ¥Ό ν†µν•΄ μ–΄λ–¤ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ”λΌλ„ μΌκ΄€λ λ™μ‘μ„ κΈ°λ€ν•  μ μλ‹¤.

<br>

<details>
<summary>μμ‹ μ½”λ“</summary>
<div markdown="1">

> μ•„λλ” μ •μ‚¬κ°ν•μ€ μ§μ‚¬κ°ν•μ΄λ‹¤.(Square is a Rectangle) λΌλ” μμ‹λ¥Ό κµ¬ν„ν• μ½”λ“μ΄λ‹¤.

```java
@Getter
@Setter
@AllArgsConstructor
public class **Rectangle** {  **// μ§μ‚¬κ°ν•**

    private int width, height;

    public int getArea() {
        return width * height;
    }

}

public class **Square** **extends Rectangle** {  **// μ •μ‚¬κ°ν•**

    public Square(int size) {
        super(size, size);
    }
	
		// λ„λΉ„λ‚ λ†’μ΄ μ¤‘ ν•λ‚λ§ μ„¤μ •ν•΄λ„ λ‘ λ‹¤ μ„¤μ •λλ„λ΅ μ¤λ²„λΌμ΄λ”© ν•μ€λ‹¤.
    @Override
    public void setWidth(int width) {
        super.setWidth(width);
        super.setHeight(width);
    }

    @Override
    public void setHeight(int height) {
        super.setWidth(height);
        super.setHeight(height);
    }
}

// μ§μ‚¬κ°ν• resize λ©”μ„λ“
public void resize(Rectangle rectangle, int width, int height) {
    rectangle.setWidth(width);
    rectangle.setHeight(height);
    if (rectangle.getWidth() != width && rectangle.getHeight() != height) {
        throw new IllegalStateException();
    }
}
```

- μ—¬κΈ°μ„ Squareλ” ν•λ‚μ λ³€μλ§μ„ μƒμ„±μλ΅ λ°›μΌλ©΄μ„, widthλ‚ height μ¤‘ ν•λ‚λ§ μ„¤μ •ν•λ” κ²½μ°μ—λ” λ‘ λ‹¤ μ„¤μ •λλ„λ΅ λ©”μ†λ“κ°€ μ¤λ²„λΌμ΄λ”© λμ–΄μλ‹¤. μ΄λ¥Ό μ΄μ©ν•λ” ν΄λΌμ΄μ–ΈνΈλ” λ‹Ήμ—°ν μ§μ‚¬κ°ν•μ λ„λΉ„μ™€ λ†’μ΄κ°€ λ‹¤λ¥΄λ‹¤κ³  κ°€μ •ν•  κ²ƒμ΄κ³ , μ§μ‚¬κ°ν•μ„ resize()ν•λ ¤λ” κ²½μ°μ—λ” μ„μ resize() λ©”μ†λ“λ¥Ό μ΄μ©ν•  κ²ƒμ΄λ‹¤.
- λ¬Έμ λ” resize()μ νλΌλ―Έν„°λ΅ μ •μ‚¬κ°ν•μΈ Squareκ°€ μ „λ‹¬λλ” κ²½μ°λ‹¤. μ§μ‚¬κ°ν• Rectangleμ€ μ •μ‚¬κ°ν• Squareμ λ¶€λ¨ ν΄λμ¤μ΄λ―€λ΅ Square μ—­μ‹ μ „λ‹¬ κ°€λ¥ν•λ°, Squareλ” λ„λΉ„μ™€ λ†’μ΄κ°€ λ™μΌν•κ² μ„¤μ •λλ―€λ΅ μλ¥Ό λ“¤μ–΄ λ‹¤μκ³Ό κ°™μ€ λ©”μ†λ“λ¥Ό νΈμ¶ν•λ©΄ λ¬Έμ κ°€ λ°μƒν•λ‹¤.

```java
Rectangle rectangle = new Square();
resize(rectangle, 100, 150);
```

- μ΄λ” **ν΄λΌμ΄μ–ΈνΈ κ΄€μ **μ—μ„ λ¶€λ¨ ν΄λμ¤μ™€ μμ‹ ν΄λμ¤μ ν–‰λ™μ΄ νΈν™λμ§€ μ•μΌλ―€λ΅ LSPλ¥Ό μ„λ°ν•λ” κ²½μ°μ΄λ‹¤. LSPκ°€ μ„±λ¦½ν•λ‹¤λ” κ²ƒμ€ μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤ λ€μ‹  μ‚¬μ©λ  μ μμ–΄μ•Ό ν•κΈ° λ•λ¬Έμ΄λ‹¤.
- μ„μ μμ‹μ—μ„ ν΄λΌμ΄μ–ΈνΈλ” μ§μ‚¬κ°ν•μ λ„λΉ„μ™€ λ†’μ΄λ” λ‹¤λ¥Ό κ²ƒμ΄λΌκ³  κ°€μ •ν•λ”λ°, μ •μ‚¬κ°ν•μ€ μ΄λ¥Ό μ¤€μν•μ§€ λ»ν•λ‹¤. μ°λ¦¬λ” μ—¬κΈ°μ„ **λ€μ²΄ κ°€λ¥μ„±μ„ κ²°μ •ν•΄μ•Ό ν•λ” κ²ƒμ€ ν•΄λ‹Ή κ°μ²΄λ¥Ό μ΄μ©ν•λ” ν΄λΌμ΄μ–ΈνΈ**μ„μ„ μμ§€ λ§μ•„μ•Ό ν•λ‹¤.

</div>
</details>
<br>

## 4. μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™(Interface Segregation Principle, ISP)

ν΄λΌμ΄μ–ΈνΈλ” **μ‚¬μ©ν•μ§€ μ•λ” λ©”μ„λ“μ— λ€ν•΄ μμ΅΄μ μ΄μ§€ μ•μ•„μ•Ό** ν•λ‹¤.

> μ•΅μ…μ„ λ” μ‘μ€ μ•΅μ… μ§‘ν•©μΌλ΅ μΌκ°μ–΄, ν΄λμ¤κ°€ ν•„μ”ν• μ•΅μ…λ“¤λ§ μ‹¤ν–‰ν•  μ μλ„λ΅ ν•λ” κ²ƒ


### νΉμ§•

- μμ‹ μ΄ μ‚¬μ©ν•μ§€ μ•λ” μΈν„°νμ΄μ¤λ” κµ¬ν„ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤.
- **λ©μ κ³Ό κ΄€μ‹¬**μ΄ κ°κΈ° **λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈ**κ°€ μλ‹¤λ©΄ **μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄** μ μ ν•κ² **λ¶„λ¦¬**ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
- **ν΄λΌμ΄μ–ΈνΈμ λ©μ κ³Ό μ©λ„μ— μ ν•©ν• μΈν„°νμ΄μ¤ λ§μ„ μ κ³µ**ν•λ” κ²ƒμ΄λ‹¤.
- μ—¬κΈ°μ„ μΈν„°νμ΄μ¤λ” κΌ­ ν•λ‚μ μΈν„°νμ΄μ¤ νμΌμ΄ μ•„λ‹ **APIλ‚ κΈ°λ¥μ μ§‘ν•©**, **λ‹¨μΌ API λλ” κΈ°λ¥**, **κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°μ μΈν„°νμ΄μ¤**κΉμ§€ **ν™•μ¥**λ  μ μλ‹¤.

### μ¥μ 

- **μ»΄ν¬λ„νΈ κ°„μ μΆ…μ†μ„±μ„ μ¤„μ΄κ³ , κ° μ»΄ν¬λ„νΈλ¥Ό λ…λ¦½μ μΌλ΅ μ μ§€ν•κ³  ν™•μ¥ν•λ” λ° λ„μ›€**μ„ μ¤€λ‹¤.
- λ¨λ“  ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ μ κ΄€μ‹¬μ— λ§λ” νΌλΈ”λ¦­ μΈν„°νμ΄μ¤(μ™Έλ¶€μ—μ„ μ ‘κ·Ό κ°€λ¥ν• λ©”μ„Έμ§€)λ§μ„ μ ‘κ·Όν•μ—¬ **λ¶ν•„μ”ν• κ°„μ„­μ„ μµμ†ν™”**ν•  μ μλ‹¤.
- **κΈ°μ΅΄ ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•μ€ μ±„**λ΅ μ μ—°ν•κ² **κ°μ²΄μ κΈ°λ¥μ„ ν™•μ¥ν•κ±°λ‚ μμ •**ν•  μ μλ‹¤.
- ISPλ¥Ό μ§€ν‚¨λ‹¤λ” κ²ƒμ€ μ–΄λ–¤ κµ¬ν„μ²΄μ— λ¶€κ°€ κΈ°λ¥μ΄ ν•„μ”ν•λ‹¤λ©΄ μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ„ ν•΄κ²°ν•  μ μλ‹¤.

<br>

<details>
<summary>μμ‹ μ½”λ“</summary>
<div markdown="1">

> μ‚¬μ©μκ°€ λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•  λ• μ…λ ¥ν• λΉ„λ°€λ²νΈκ°€ κΈ°μ΅΄ λΉ„λ°€λ²νΈμ™€ κ°™μ€μ§€ κ²€μ‚¬ν•λ” λ΅μ§μ„ λ‹¤λ¥Έ Authentication λ΅μ§μ— μ¶”κ°€ν•λ‹¤κ³  κ°€μ •ν•μ. κ·Έλ¬λ©΄ μ°λ¦¬λ” λ‹¤μκ³Ό κ°™μ€ isCorrectPasswordλΌλ” νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό μ¶”κ°€ν•΄μ¤„ κ²ƒμ΄λ‹¤.


```java
@Component
public class SHA256PasswordEncoder implements PasswordEncoder {

    @Override
    public String encryptPassword(final String pw)  {
        ...
    }

    public String **isCorrectPassword**(final String rawPw, final String pw) {
        final String encryptedPw = encryptPassword(rawPw);
        return encryptedPw.equals(pw);
    }
}
```

- ν•μ§€λ§ UserServiceμ—μ„λ” λΉ„λ°€λ²νΈ μ•”νΈν™”λ¥Ό μ„ν• encryptPassword() λ§μ„ ν•„μ”λ΅ ν•κ³ , λ¶ν•„μ”ν•κ² isCorrectPasswordλ¥Ό μ• ν•„μ”κ°€ μ—†λ‹¤. ν„μ¬ UserServiceλ” PasswordEncoderλ¥Ό μ£Όμ…λ°›μ•„ encrpytPasswordμ—λ§ μ ‘κ·Ό κ°€λ¥ν•λ―€λ΅ μΈν„°νμ΄μ¤ λ¶„λ¦¬κ°€ μ λ κ²ƒ μ²λΌ λ³΄μΈλ‹¤. ν•μ§€λ§ μƒλ΅­κ² μ¶”κ°€λ  Authentication λ΅μ§μ—μ„λ” isCorrectPasswordμ— μ ‘κ·Όν•κΈ° μ„ν•΄ κµ¬μ²΄ ν΄λμ¤μΈ SHA256PasswordEncoderλ¥Ό μ£Όμ…λ°›μ•„μ•Ό ν•λ”λ° κ·Έλ¬λ©΄ λ¶ν•„μ”ν• encryptPasswordμ—λ„ μ ‘κ·Ό κ°€λ¥ν•΄μ§€κ³ , μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™μ„ μ„λ°°ν•κ² λλ‹¤.
- λ¬Όλ΅  PasswordEncoderμ— isCorrectPassword νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό μ¶”κ°€ν•΄μ¤„ μ μμ§€λ§, ν΄λΌμ΄μ–ΈνΈμ λ©μ κ³Ό μ©λ„μ— μ ν•©ν• μΈν„°νμ΄μ¤ λ§μ„ μ κ³µν•λ‹¤λ” μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™μ„ μ§€ν‚¤κΈ° μ„ν•΄μ„λΌλ„ μ΄λ―Έ λ§λ“  μΈν„°νμ΄μ¤λ” κ±΄λ“λ¦¬μ§€ μ•λ” κ²ƒμ΄ μΆ‹λ‹¤.
- κ·Έλ¬λ―€λ΅ μ„μ μƒν™©μ„ ν•΄κ²°ν•κΈ° μ„ν•΄μ„λ” λΉ„λ°€λ²νΈ κ²€μ‚¬λ¥Ό μλ―Έν•λ” λ³„λ„μ μΈν„°νμ΄μ¤(PasswordChecker)λ¥Ό λ§λ“¤κ³  ν•΄λ‹Ή μΈν„°νμ΄μ¤λ΅ μ£Όμ… λ°›λ„λ΅ ν•λ” κ²ƒμ΄ μ ν•©ν•λ‹¤.

```java
public interface **PasswordChecker** {
    String **isCorrectPassword**(final String rawPw, final String pw);
}

@Component
public class SHA256PasswordEncoder **implements PasswordEncoder, PasswordChecker** {

    @Override
    public String encryptPassword(final String pw)  {
        ...
    }

    @Override
    public String isCorrectPassword(final String rawPw, final String pw) {
        final String encryptedPw = encryptPassword(rawPw);
        return encryptedPw.equals(pw);
    }
}
```

</div>
</details>
<br>

## 5. μμ΅΄ μ—­μ „ μ›μΉ™(Dependency Inversion Principle, DIP)

μƒμ„ λ¨λ“μ΄ ν•μ„ λ¨λ“μ— **μ§μ ‘ μμ΅΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ**, λ‘ λ‹¤ **μ¶”μƒν™”μ— μμ΅΄**ν•λ„λ΅ μ„¤κ³„ν•΄μ•Ό ν•λ‹¤.

> μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μƒμ„ ν΄λμ¤κ°€ ν•μ„ ν΄λμ¤μ— λ€ν•΄ μμ΅΄μ„±μ„ κ°€μ§€λ” κ²ƒμ„ μ¤„μ΄λ” κ²ƒ

### νΉμ§•

- **κ³ μμ¤€ λ¨λ“μ€ μ €μμ¤€ λ¨λ“μ κµ¬ν„μ— μμ΅΄ν•΄μ„λ” μ• λλ©°, μ €μμ¤€ λ¨λ“μ΄ κ³ μμ¤€ λ¨λ“μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤**λ” κ²ƒμ΄λ‹¤.
    - κ³ μμ¤€ λ¨λ“: μ…λ ¥κ³Ό μ¶λ ¥μΌλ΅λ¶€ν„° λ¨Ό(λΉ„μ¦λ‹μ¤μ™€ κ΄€λ ¨λ) μ¶”μƒν™”λ λ¨λ“
    - μ €μμ¤€ λ¨λ“: μ…λ ¥κ³Ό μ¶λ ¥μΌλ΅λ¶€ν„° κ°€κΉμ΄(HTTP, λ°μ΄ν„°λ² μ΄μ¤, μΊμ‹ λ“±κ³Ό κ΄€λ ¨λ) κµ¬ν„ λ¨λ“
- **λΉ„μ¦λ‹μ¤μ™€ κ΄€λ ¨λ λ¶€λ¶„μ΄ μ„Έλ¶€ μ‚¬ν•­μ—λ” μμ΅΄ν•μ§€ μ•λ” μ„¤κ³„ μ›μΉ™**μ„ μλ―Έν•λ‹¤.
- μμ΅΄ μ—­μ „ μ›μΉ™μ€ κ°λ°© νμ‡„ μ›μΉ™κ³Ό λ°€μ ‘ν• κ΄€λ ¨μ΄ μμΌλ©°, μμ΅΄ μ—­μ „ μ›μΉ™μ΄ μ„λ°°λλ©΄ κ°λ°© νμ‡„ μ›μΉ™ μ—­μ‹ μ„λ°°λ  κ°€λ¥μ„±μ΄ λ†’λ‹¤.
- μμ΅΄ μ—­μ „ μ›μΉ™μ—μ„ **μμ΅΄μ„±μ΄ μ—­μ „λλ” μ‹μ μ€ μ»΄νμΌ μ‹μ **μ΄λ‹¤. μμ΅΄ μ—­μ „ μ›μΉ™μ€ **μ»΄νμΌ μ‹μ  λλ” μ†μ¤ μ½”λ“ λ‹¨κ³„μ—μ„μ μμ΅΄μ„±μ΄ μ—­μ „λλ” κ²ƒ**μ„ μλ―Έν•λ‹¤.

### μ¥μ 

- **λ¨λ“ κ°„μ κ²°ν•©λ„λ¥Ό μ¤„μ΄κ³  μ μ—°μ„±μ„ λ†’μΌ μ μλ‹¤.**

<br>

<details>
<summary>μμ‹ μ½”λ“</summary>
<div markdown="1">

> μ•μ„  κ°λ°©νμ‡„ μ›μΉ™ μμ‹ μ½”λ“μ—μ„ μ΄λ―Έ μμ΅΄μ„± μ—­μ „μ— λ€ν• μμ‹λ¥Ό ν•¨κΌ λ‹¤λ£¬κ±°λ‚ λ§μ°¬κ°€μ§€μ΄λ‹¤.

- SimplePasswordEncoderλ” μ•”νΈν™”λ¥Ό κµ¬μ²΄ν™”ν• ν΄λμ¤μΈλ°, UserServiceκ°€ SimplePasswordEncoderμ— μ§μ ‘ μμ΅΄ν•λ” κ²ƒμ€ DIPμ— μ„λ°°λλ‹¤. κ·Έλ¬λ―€λ΅ UserServiceκ°€ λ³€ν•μ§€ μ•λ” μ¶”μƒν™”μ— μμ΅΄ν•λ„λ΅ λ³€κ²½μ΄ ν•„μ”ν•κ³ , μ°λ¦¬λ” PasswordEncoder μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ„ μ΄μ— μμ΅΄ν•λ„λ΅ λ³€κ²½ν•μ€λ‹¤. UserServiceκ°€ μ¶”μƒν™”λ PasswordEncoderμ— μμ΅΄ν•λ―€λ΅ μ•”νΈν™” μ •μ±…μ΄λ³€κ²½λμ–΄λ„ λ‹¤λ¥Έ κ³³λ“¤λ΅ λ³€κ²½μ΄ μ „νλμ§€ μ•μ•„ μ μ—°ν• μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ λλ‹¤.

    ![image](https://github.com/user-attachments/assets/8ba55374-2c6d-4182-bac0-c238fa5459f8)

- μ£Όμν•΄μ•Ό ν•  μ μ€ μ„μ— λ§ν–λ“―, μμ΅΄ μ—­μ „ μ›μΉ™μ—μ„ **μμ΅΄μ„±μ΄ μ—­μ „λλ” μ‹μ μ€ μ»΄νμΌ μ‹μ **μ΄λΌλ” κ²ƒμ΄λ‹¤. λ°νƒ€μ„ μ‹μ μ—λ” UserServiceκ°€ SHA256PasswordEncoderλΌλ” κµ¬μ²΄ ν΄λμ¤μ— μμ΅΄ν•λ‹¤. ν•μ§€λ§ μμ΅΄ μ—­μ „ μ›μΉ™μ€ μ»΄νμΌ μ‹μ  λλ” μ†μ¤ μ½”λ“ λ‹¨κ³„μ—μ„μ μμ΅΄μ„±μ΄ μ—­μ „λλ” κ²ƒμ„ μλ―Έν•λ©°, μ½”λ“μ—μ„λ” UserServiceκ°€ PasswordEncoderλΌλ” μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ‹¤.

</div>
</details>