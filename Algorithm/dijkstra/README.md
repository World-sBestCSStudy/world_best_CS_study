## 다익스트라 (dijkstra)

→ 그래프에서 한 노드에서 다른 노드까지의 최단 경로를 구하는 알고리즘 중 하나

( 다른 최단 경로 알고리즘 ? 벨만 - 포드, 프로이드 워샬 )

도착 정점 뿐만 아니라 다른 모든 정점까지 최단 경로로 방문하여 각 정점까지의 최단 경로를 모두 찾게 된다. 매번 최단 경로의 정점을 선택해 탐색을 반복하는 것이다.

**DP를 활용한 최단 경로 탐색 알고리즘 → 한 번 최단 거리를 구한 곳은 다시 구할 필요가 없으므로 DP를 활용하면 효율적으로 구할 수 있다.**

** 출발 노드는 동일 **

- 해당 정점까지의 최단 거리 저장
- 정점을 방문했는지 저장

### 동작 단계

1. 출발 노드와 도착 노드 설정
2. 최단 거리 테이블 초기화
3. 현재 위치한 노드의 인접 노드 중 방문하지 않은 노드 중 가장 짧은 노드를 선택 , 해당 노드 방문 처리
4. 해당 노드를 거쳐 다른 노드로 넘어가는 간선 비용을 계산해 최단 거리 테이블 업데이트
5. 3,4 반복

![Untitled](./assets/2.png)

1번 노드의 거리는 0으로 설정 , 다른 모든 거리는 inf로 설정

![Untitled](./assets/3.png)

1번 노드의 인접 노드 2,4 를 기존에 있는 inf와 현재 갈 수 있는 거리의 가중치와 비교해서 최솟값으로 업데이트 한다. 인접 노드까지의 거리를 모두 업데이트 한 1번 노드는 방문 표시

최근 갱신한 테이블을 기준, 방문하지 않은 노드 중 가장 거리 값이 작은 번호를 다음 노드로 설정한다. 2번과 4번 둘 다 방문하지 않았지만 4번 노드가 거리가 더 가까움

![Untitled](./assets/4.png)
4번 노드에서 방문하지 않은 인접 노드 2, 5번의 거리를 업데이트 한다.

2번 노드를 업데이트 할 때는 (4번 노드의 값 + 4에서 2까지의 거리) vs (현재 2번까지 거리)

4번 노드를 방문 표시를 한다.

1번 노드에서 2번노드를 아직 안가봐서 2번 노드로 ㄱㄱ

![Untitled](./assets/5.png)

방문하지 않은 인접 노드 3를 갱신해준다.

**자 여기서 그림이 잘못되었다. 4번은 이미 방문한 노드이므로 3번만 갱신하면 된다**.

4번에서 인접했던 5번을 아직 안봤으니까 5번으로 ㄱㄱ

![Untitled](./assets/6.png)

5번에서 인접 한 6번 업데이트 , 6번에서는

최소 거리는 4

### 특징 : 다익스트라 알고리즘은 가중치가 양수일 때만 사용 가능하다.

한 번 방문한 정점에 대해서는 값을 업데이트 하지 않아도 되려면 양수여야한다.

![Untitled](./assets/8.png)

1에서 4가 최단 경로이려면 3+k 가 1보다 커야 한다.

1번에서 연결된 노드 중 4번이 가중치가 적다는 이유로 최단 거리를 1이라 할 수 없다.

### 구현 방법

1. 순차 탐색
2. 우선순위 큐

### 순차 탐색

'**방문하지 않은 노드 중 거리 값이 가장 작은 노드**'를 선택해 다음 탐색 노드로 삼는다.

거리 테이블의 앞에서부터 찾아내야 하므로 노드의 개수 만큼 순차 탐색을 하게 된다.

노드 개수가 N이면 각 노드마다 최소 거리값을 갖는 노드를 선택 해야하는 순차 탐색이 수행되므로 (N-1) \* N = O(N^2) 가 된다.

### 우선 순위 큐

순차 탐색을 사용할 경우 노드 개수에 따라 탐색 시간이 매우 오래 걸릴 수 있다.

이를 개선하기 위해 우선순위 큐를 도입하기도 한다.

우선순위 큐에서 사용할 '우선순위'의 기준은 '시작 노드로부터 가장 가까운 노드'가 된다.

큐의 정렬은 최단 거리인 노드를 기준으로 최단 거리를 가지는 노드를 앞에 배치한다.

• 우선순위큐에 추출해주는 연산에대해서는 최대 V개의 노드에 대하여 우선순위큐에서 추출할 것이므로 최대 O(VlogV)의 시간이 걸릴 것이고 따라서 최대 모든 노드, 간선에대하여 우선 순위큐를 계산해줘야 하므로 O((V+E)logV)의 시간이 걸릴 것 이다

• poll() 연산(최소 비용을 뽑는 연산)과 offer() 연산(최소 비용 후보를 우선 순위큐에 넣는 연산)이다. 만일, 중복 노드를 무차별적으로 큐에 넣는다면 위에서 결과적으로 말한 최대 V개의 노드에서 우선순위큐를 추출하는 O(VlogV)가 보장되지 못한다. 따라서, 중복 노드 방문을 두 가지 조건을 기반으로 방지한다.

## **[다익스트라 알고리즘 특징](https://cobi-98.tistory.com/46#%EB%-B%A-%EC%-D%B-%EC%-A%A-%ED%-A%B-%EB%-D%BC%--%EC%--%-C%EA%B-%A-%EB%A-%AC%EC%A-%--%--%ED%-A%B-%EC%A-%--)**

**장점**

- 인접 행렬 또는 우선순위 대기열을 사용하여 구현할 수 있으므로 가능한 모든 경로를 확인하는 무차별 접근 방식보다 효율적이다.
- 거리뿐만 아니라 경로를 추적하도록 알고리즘을 쉽게 수정할 수 있다.
- **단점**

- 우선순위 대기열을 사용할 때 간선이 많은 큰 그래프의 경우 느려질 수 있다.
- 그래프와 거리를 저장하려면 많은 양의 메모리가 필요하다.
- 동일한 거리에 여러 경로가 있는 경우 최상의 경로를 보장하지 않는다.
- 지형이나 교통 상황과 같은 다른 요소는 고려하지 않는다.
